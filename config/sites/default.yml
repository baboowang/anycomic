- name : 笨狗 
  version : 20120613
  domain : bengou.com
  search : 
    rule : 'http://www.bengou.com/Result?searchstr={keyword}&searchtype=name'
    keyword : |
              use URI::Escape::JavaScript qw/escape/;
              return escape($_);
    items : 'div.endcomicscontent > ul > li'
    props :
        name : 'h1 a:first-child'
        url : 'h1 a:first-child'
        last_update_period : 'h1 a:last-child'
        author : 'p:first-of-type a:first-child'
  book :
    periods : '#mhlist li > h3:first-child a'
    name : 'div.insideright h1'
    rule : '\d+/\w+/index\.html'
    props :
        cover : 'div.section div.recommendedpic img'
        author : 'div.sectioninfo > p:nth-of-type(1) a'
        status : 'div.sectioninfo > p:nth-of-type(2) a'
        cates : 'div.sectioninfo > p:nth-of-type(3) a'
        area : 'div.sectioninfo > p:nth-of-type(5) a'
        update_time : 'div.sectioninfo > p:nth-of-type(6) span'
        intro : 'div.sectionabout > p:first-of-type'    
  period :
    pages :
        - 'script:not([src]):eq(1)'
        - { script : '$_->text =~ m/(\d+\.html)/g' }
    rule : '\d+/\w+/\d+/\d+\.html' 
    book : 's{\d+/\d+(?=.html)}{index}'
  page :
    img : '#disp'

- name : 爱漫画
  version : 20120613
  domain : imanhua.com
  book :
    name : 'h1'
    rule : '/comic/(?<book_id>\d+)/?$'
    periods : 'ul#subBookList > li > a'
    props :
        cover : 
            - selector : 'div.bookCover img:first-child'
        author : 
            - selector : 'p.bookAttr'
            - regexp : '作者：([^<>\s]+)'
        intro :
            - selector : 'div.intro > p:first-child'
            - processor : text
        update_time :
            - selector : 'p.bookAttr'
            - regexp : '更新时间：([\d-]+)'
        status : 'p.bookAttr span:first-child em'
  period :
    rule : '/comic/(?<book_id>\d+)/list_(?<period_id>\d+).html'
    book : 's{list_\d+\.html}{}'
    pages : 
        - selector : 'script:not([src]):eq(1)'
        - processor : text
        - regexp : '(.+?);imanhua\.core\.bind'
        - processor : 'unpack'
        - regexp : '=\s*(\{.+?\}(?=;))' 
        - processor : 
            - json
            - key images
            - tpl http://t4.mangafiles.com/Files/Images/{book_id}/{period_id}/{_}

- name : 有妖气
  domain : u17.com
  version : 20120613
  book :
    periods : 'div.comic_chapter_middle > div:first-child > ul a'
    period_name :
        - processor : attr title
    name : 'div.address a:last-child'
    rule : '/comic/\d+\.html'
    props :
        cover : 'dt.comic_cover img'
        author : 'dd.comic_info a[href*=i.u17.com]:eq(0)'
        status : 
            - selector : 'dd.comic_info .comic_type'
            - processor : text
            - regexp : '状态：(\S+)'
        cates :
            - selector : 'dd.comic_info .comic_type'
            - processor : text
            - regexp : '类别：(\S+)'
        update_time : 
            - selector : 'div.comic_chapter_top'
            - processor : text
            - regexp : '最后更新时间：([\d-]+)'
        intro : '#comic_description_panel'    
  period :
    rule : '/comic_show/(?<period_id>c\d+_m\d+)(?:_i\d+)?\.html' 
    pages :
        - selector : '#comicShow option'
        - processor : 'attr value | tpl http://www.u17.com/comic_show/{period_id}_i{_}.html' 
  page :
    img : 
        - selector : '#SS_cur_pic'
        - processor : attr value
